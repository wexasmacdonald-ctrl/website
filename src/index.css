@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global base styles */
html, body, #root {
  height: 100%;
}
body {
  @apply bg-black text-white antialiased;
  background-image: url('/texture.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  position: relative;
}

body::after {
  content: '';
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  pointer-events: none;
  z-index: -1;
}

/* Improve mobile scroll behavior and avoid bounce-back */
html, body {
  overscroll-behavior-y: contain;
  -webkit-overflow-scrolling: touch;
}

/* Theme tokens as CSS variables */
:root {
  --color-brand-red: #ef233c;
  --color-brand-dark: #0b0b0c;
}

/* Subtle film grain background for depth */
.grain {
  position: relative;
}
.grain:before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.08;
  pointer-events: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.2"/></svg>');
  background-size: 160px 160px;
}

/* Red glow utility */
.red-glow {
  box-shadow: 0 0 60px rgba(239, 35, 60, 0.25);
}

.assistant-markdown {
  @apply space-y-2 text-sm leading-relaxed;
}
.assistant-markdown p {
  @apply text-white m-0;
}
.assistant-markdown strong {
  @apply text-white font-semibold;
}
.assistant-markdown ul {
  @apply list-disc pl-5 space-y-1;
}
.assistant-markdown code {
  @apply rounded bg-white/10 px-1 py-0.5 text-[0.85em];
}
.assistant-markdown pre {
  @apply overflow-x-auto rounded-md bg-white/10 p-3 text-[0.85em];
}

.text-soft-outline {
  text-shadow: 0 3px 12px rgba(0, 0, 0, 0.9);
}

.page-track {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.page-panel {
  flex: 0 0 100%;
  scroll-snap-align: start;
  height: 100dvh;
  overflow-y: auto;
}

.page-panel-inner {
  min-height: 100%;
  padding-top: 5rem;
  padding-bottom: 4rem;
}

@media (min-width: 768px) {
  .page-panel-inner {
    padding-top: 6rem;
  }
}

.page-body p,
.page-body li,
.page-body blockquote,
.page-body figcaption,
.page-body dd,
.page-body dt,
.page-body label,
.page-body textarea,
.page-body input {
  @apply text-lg md:text-xl;
}
